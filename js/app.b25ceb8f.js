(function(e){function t(t){for(var n,o,s=t[0],u=t[1],c=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);f&&f(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={app:0},a={app:0},i=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-2d22d746":"c0e57350","chunk-7a956a96":"334731ce"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={"chunk-7a956a96":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-2d22d746":"31d6cfe0","chunk-7a956a96":"6c535dd4"}[e]+".css",a=u.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===a))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){c=p[s],l=c.getAttribute("data-href");if(l===n||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[e],f.parentNode.removeChild(f),r(i)},f.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){o[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var p=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(f);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",p.name="ChunkLoadError",p.type=n,p.request=o,r[1](p)}a[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="https://cdn.jsdelivr.net/gh/mouyase/PixivCool@gh-pages/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var f=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),o=r("8c4f"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view-home"},[r("div",[r("VirtualCollection",{attrs:{cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,collection:e.recommend_array,height:500,width:330},scopedSlots:e._u([{key:"cell",fn:function(e){return r("div",{},[r("img",{attrs:{src:e.src}})])}}])})],1)])},i=[],s={name:"Home",data(){return{recommend_array:[],items:Array.from({length:1e3},(e,t)=>({data:"#"+t}))}},mounted(){let e={filter:"for_android",include_ranking_illusts:!1,include_privacy_policy:!0};this.$http.get(this.pixiv.URL_APP_API+"/v1/illust/recommended",{params:e}).then(e=>{let t=this._.get(e,"data.illusts");0!==t.length&&t.map(e=>{this._.get(e,"image_urls.medium")&&this._.get(e,"sanity_level")<=2&&this.recommend_array.push({src:this._.get(e,"image_urls.medium")})}),console.log(this.recommend_array)})},methods:{cellSizeAndPositionGetter(e,t){return{width:300,height:150,x:t%2*110,y:160*parseInt(t/2)}}}},u=s,c=(r("6384"),r("2877")),l=Object(c["a"])(u,a,i,!1,null,"80a9b6a8",null),p=l.exports;n["default"].use(o["a"]);const f=[{path:"/",name:"Home",component:p},{path:"/login",name:"Login",component:()=>r.e("chunk-7a956a96").then(r.bind(null,"a55b"))},{path:"/about",name:"About",component:()=>r.e("chunk-2d22d746").then(r.bind(null,"f820"))}],d=new o["a"]({routes:f});var h=d,g=r("5c96"),m=r.n(g),v=(r("0fae"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)}),y=[],_={name:"App",components:{},data(){return{}},created(){this.app.firstRouter=location.hash.slice(1),console.log("初次打开路由",this.app.firstRouter),this.app.isLogin()||(this.app.firstRouter="login"),this.$router.replace(this.app.firstRouter).catch(e=>e)},beforeMount(){},mounted(){}},b=_,S=(r("034f"),Object(c["a"])(b,v,y,!1,null,null,null)),w=S.exports,C=r("bc3a"),P=r.n(C),T=r("4328"),A=r.n(T),k={firstRouter:"/",setUser(e){localStorage.setItem("user_data",JSON.stringify(e)),this.setRefreshTime()},getUser(){return JSON.parse(localStorage.getItem("user_data"))},setRefreshTime(){let e=new Date;e.setMinutes(e.getMinutes()+30),console.log(e.getTime()),localStorage.setItem("refresh_time",String(e.getTime()))},getRefreshTime(){return localStorage.getItem("refresh_time")},isLogin(){return!!this.getUser()}},x=r("2ef0"),O=r.n(x);let j=N(),R=M(j+"28c1fdd170a5204386cb1313c7077b34f83e4aaf4aa829ce78c231e05b0bae2c"),U=P.a.create({headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","accept-language":"zh_CN","app-os":"android","app-os-version":"9","app-version":"5.0.200","x-client-time":j,"x-client-hash":R}});U.interceptors.request.use(e=>(console.log(Number(k.getRefreshTime())),console.log((new Date).getTime()),Number(k.getRefreshTime())<(new Date).getTime()&&console.log("该换Token了！"),"post"===e.method&&(e.data=A.a.stringify(e.data)),k.getUser()&&(e.headers.authorization="Bearer "+k.getUser().access_token),e),e=>Promise.reject(e)),U.interceptors.response.use(e=>e&&e.data?(e.data=JSON.parse(JSON.stringify(e.data).replace(/i\.pximg\.net/g,"i.pixiv.cat")),Promise.resolve(e)):Promise.reject(e),e=>{if(e&&e.response&&e.response.status)return Promise.reject(e.response)});var L=U;function N(){let e=new Date;return E(e.getFullYear())+"-"+E(e.getMonth()+1)+"-"+E(e.getDate())+"T"+E(e.getHours())+":"+E(e.getMinutes())+":"+E(e.getSeconds())+"+08:00"}function E(e){return e<10?"0"+String(e):String(e)}function M(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r,n,o,a,i;return o=2147483648&e,a=2147483648&t,r=1073741824&e,n=1073741824&t,i=(1073741823&e)+(1073741823&t),r&n?2147483648^i^o^a:r|n?1073741824&i?3221225472^i^o^a:1073741824^i^o^a:i^o^a}function n(e,t,r){return e&t|~e&r}function o(e,t,r){return e&r|t&~r}function a(e,t,r){return e^t^r}function i(e,t,r){return t^(e|~r)}function s(e,o,a,i,s,u,c){return e=r(e,r(r(n(o,a,i),s),c)),r(t(e,u),o)}function u(e,n,a,i,s,u,c){return e=r(e,r(r(o(n,a,i),s),c)),r(t(e,u),n)}function c(e,n,o,i,s,u,c){return e=r(e,r(r(a(n,o,i),s),c)),r(t(e,u),n)}function l(e,n,o,a,s,u,c){return e=r(e,r(r(i(n,o,a),s),c)),r(t(e,u),n)}function p(e){var t,r=e.length,n=r+8,o=(n-n%64)/64,a=16*(o+1),i=Array(a-1),s=0,u=0;while(u<r)t=(u-u%4)/4,s=u%4*8,i[t]=i[t]|e.charCodeAt(u)<<s,u++;return t=(u-u%4)/4,s=u%4*8,i[t]=i[t]|128<<s,i[a-2]=r<<3,i[a-1]=r>>>29,i}function f(e){var t,r,n="",o="";for(r=0;r<=3;r++)t=e>>>8*r&255,o="0"+t.toString(16),n+=o.substr(o.length-2,2);return n}function d(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}var h,g,m,v,y,_,b,S,w,C=Array(),P=7,T=12,A=17,k=22,x=5,O=9,j=14,R=20,U=4,L=11,N=16,E=23,M=6,D=10,I=15,z=21;for(e=d(e),C=p(e),_=1732584193,b=4023233417,S=2562383102,w=271733878,h=0;h<C.length;h+=16)g=_,m=b,v=S,y=w,_=s(_,b,S,w,C[h+0],P,3614090360),w=s(w,_,b,S,C[h+1],T,3905402710),S=s(S,w,_,b,C[h+2],A,606105819),b=s(b,S,w,_,C[h+3],k,3250441966),_=s(_,b,S,w,C[h+4],P,4118548399),w=s(w,_,b,S,C[h+5],T,1200080426),S=s(S,w,_,b,C[h+6],A,2821735955),b=s(b,S,w,_,C[h+7],k,4249261313),_=s(_,b,S,w,C[h+8],P,1770035416),w=s(w,_,b,S,C[h+9],T,2336552879),S=s(S,w,_,b,C[h+10],A,4294925233),b=s(b,S,w,_,C[h+11],k,2304563134),_=s(_,b,S,w,C[h+12],P,1804603682),w=s(w,_,b,S,C[h+13],T,4254626195),S=s(S,w,_,b,C[h+14],A,2792965006),b=s(b,S,w,_,C[h+15],k,1236535329),_=u(_,b,S,w,C[h+1],x,4129170786),w=u(w,_,b,S,C[h+6],O,3225465664),S=u(S,w,_,b,C[h+11],j,643717713),b=u(b,S,w,_,C[h+0],R,3921069994),_=u(_,b,S,w,C[h+5],x,3593408605),w=u(w,_,b,S,C[h+10],O,38016083),S=u(S,w,_,b,C[h+15],j,3634488961),b=u(b,S,w,_,C[h+4],R,3889429448),_=u(_,b,S,w,C[h+9],x,568446438),w=u(w,_,b,S,C[h+14],O,3275163606),S=u(S,w,_,b,C[h+3],j,4107603335),b=u(b,S,w,_,C[h+8],R,1163531501),_=u(_,b,S,w,C[h+13],x,2850285829),w=u(w,_,b,S,C[h+2],O,4243563512),S=u(S,w,_,b,C[h+7],j,1735328473),b=u(b,S,w,_,C[h+12],R,2368359562),_=c(_,b,S,w,C[h+5],U,4294588738),w=c(w,_,b,S,C[h+8],L,2272392833),S=c(S,w,_,b,C[h+11],N,1839030562),b=c(b,S,w,_,C[h+14],E,4259657740),_=c(_,b,S,w,C[h+1],U,2763975236),w=c(w,_,b,S,C[h+4],L,1272893353),S=c(S,w,_,b,C[h+7],N,4139469664),b=c(b,S,w,_,C[h+10],E,3200236656),_=c(_,b,S,w,C[h+13],U,681279174),w=c(w,_,b,S,C[h+0],L,3936430074),S=c(S,w,_,b,C[h+3],N,3572445317),b=c(b,S,w,_,C[h+6],E,76029189),_=c(_,b,S,w,C[h+9],U,3654602809),w=c(w,_,b,S,C[h+12],L,3873151461),S=c(S,w,_,b,C[h+15],N,530742520),b=c(b,S,w,_,C[h+2],E,3299628645),_=l(_,b,S,w,C[h+0],M,4096336452),w=l(w,_,b,S,C[h+7],D,1126891415),S=l(S,w,_,b,C[h+14],I,2878612391),b=l(b,S,w,_,C[h+5],z,4237533241),_=l(_,b,S,w,C[h+12],M,1700485571),w=l(w,_,b,S,C[h+3],D,2399980690),S=l(S,w,_,b,C[h+10],I,4293915773),b=l(b,S,w,_,C[h+1],z,2240044497),_=l(_,b,S,w,C[h+8],M,1873313359),w=l(w,_,b,S,C[h+15],D,4264355552),S=l(S,w,_,b,C[h+6],I,2734768916),b=l(b,S,w,_,C[h+13],z,1309151649),_=l(_,b,S,w,C[h+4],M,4149444226),w=l(w,_,b,S,C[h+11],D,3174756917),S=l(S,w,_,b,C[h+2],I,718787259),b=l(b,S,w,_,C[h+9],z,3951481745),_=r(_,g),b=r(b,m),S=r(S,v),w=r(w,y);return(f(_)+f(b)+f(S)+f(w)).toLowerCase()}var D=r("2106"),I=r.n(D),z={URL_APP_API:"https://app-api.128512.xyz",URL_OAUTH:"https://oauth.128512.xyz",refreshToken(){L.post(this.pixiv.URL_OAUTH+"/auth/token",postData).then(e=>{this.$loading().close();let t=this._.get(e,"data.response");t&&(this.app.setUser(t),this.$router.replace(this.app.firstRouter).catch(e=>e))})}},$=r("00d7"),H=r.n($);n["default"].use(m.a),n["default"].use(I.a,L),n["default"].use(H.a),n["default"].prototype.pixiv=z,n["default"].prototype.app=k,n["default"].prototype._=O.a,new n["default"]({el:"#app",router:h,render:e=>e(w)}).$mount("#app")},6384:function(e,t,r){"use strict";r("ac37")},"85ec":function(e,t,r){},ac37:function(e,t,r){}});
//# sourceMappingURL=app.b25ceb8f.js.map